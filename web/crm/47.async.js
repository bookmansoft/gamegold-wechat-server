(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{"8lsl":function(e,t,a){e.exports={main:"antd-pro\\pages\\-game-props\\style-main",icon:"antd-pro\\pages\\-game-props\\style-icon",other:"antd-pro\\pages\\-game-props\\style-other",register:"antd-pro\\pages\\-game-props\\style-register","ant-card-head-title":"antd-pro\\pages\\-game-props\\style-ant-card-head-title",tableList:"antd-pro\\pages\\-game-props\\style-tableList",tableListOperator:"antd-pro\\pages\\-game-props\\style-tableListOperator",tableListForm:"antd-pro\\pages\\-game-props\\style-tableListForm",submitButtons:"antd-pro\\pages\\-game-props\\style-submitButtons",createButtons:"antd-pro\\pages\\-game-props\\style-createButtons",card:"antd-pro\\pages\\-game-props\\style-card",heading:"antd-pro\\pages\\-game-props\\style-heading",steps:"antd-pro\\pages\\-game-props\\style-steps",errorIcon:"antd-pro\\pages\\-game-props\\style-errorIcon",errorPopover:"antd-pro\\pages\\-game-props\\style-errorPopover",errorListItem:"antd-pro\\pages\\-game-props\\style-errorListItem",errorField:"antd-pro\\pages\\-game-props\\style-errorField",editable:"antd-pro\\pages\\-game-props\\style-editable",advancedForm:"antd-pro\\pages\\-game-props\\style-advancedForm",optional:"antd-pro\\pages\\-game-props\\style-optional",standardListForm:"antd-pro\\pages\\-game-props\\style-standardListForm"}},"e/Kw":function(e,t,a){"use strict";var r=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=r(a("bx4M"));a("2qtc");var o=r(a("kLXV"));a("g9YV");var s=r(a("wCAj")),d=r(a("pVnL"));a("14J3");var p=r(a("BMrR"));a("+L6B");var u=r(a("2/Rp"));a("jCWc");var i=r(a("kPKH"));a("5NDa");var m=r(a("5rEg")),c=r(a("MVZn"));a("/zsF");var f=r(a("PArb")),g=r(a("lwsE")),h=r(a("W8MJ")),y=r(a("a1gu")),v=r(a("Nsbk")),b=r(a("7W2i"));a("y8nQ");var E=r(a("Vl3Y"));a("OaEy");var L,w,F,S,C=r(a("2fM7")),I=l(a("q1tI")),O=r(a("8lsl")),P=a("MuoO"),k=r(a("zHco")),x=a("LLXN"),V=r(a("wY1l")),_=r(a("3a4m")),N=C.default.Option,D=E.default.Item,M=(L=(0,P.connect)(function(e){var t=e.gameprops,a=e.loading;return{gameprops:t,loading:a.models.gameprops}}),w=E.default.create(),L(F=w((S=function(e){function t(){var e,a;(0,g.default)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return a=(0,y.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(l))),a.state={formValues:{},visible:!1,current:void 0,proposPrice:0,proposNum:0},a.columns=[{title:"\u9053\u5177ID",dataIndex:"id"},{title:"\u9053\u5177\u540d",dataIndex:"props_name"},{title:"\u9053\u5177\u7c7b\u578b",dataIndex:"props_type",render:function(e){return e}},{title:"\u6240\u5c5e\u6e38\u620f",dataIndex:"cp_name",render:function(e){return e}},{title:"\u5236\u4f5c\u603b\u91cf",dataIndex:"pro_num",render:function(e){return e||0}},{title:"\u9500\u552e\u6570\u91cf",dataIndex:"sale_num",render:function(e){return e||0}},{title:"\u8d60\u9001\u6570\u91cf",dataIndex:"send_num",render:function(e){return e||0}},{title:"\u64cd\u4f5c",render:function(e,t){return I.default.createElement(I.Fragment,null,I.default.createElement(V.default,{to:"/gameprops/detail/".concat(t.id)},"\u8be6\u60c5"),I.default.createElement(f.default,{type:"vertical"}),I.default.createElement(V.default,{to:"/usermgr/userlist"},"\u6279\u91cf\u8d60\u9001"))}}],a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.handleEdit=function(e,t){console.log(t),e.preventDefault()},a.handleStandardTableChange=function(e,t,r){var l=a.props.dispatch,n=a.state.formValues,o=Object.keys(t).reduce(function(e,a){var r=(0,c.default)({},e);return r[a]=getValue(t[a]),r},{}),s=(0,c.default)({currentPage:e.current,pageSize:e.pageSize},n,o);r.field&&(s.sorter="".concat(r.field,"_").concat(r.order)),s.id=n.id,s.props_name=n.name,s.cid=n.game,l({type:"gameprops/propsList",payload:s})},a.handleSearch=function(e){e.preventDefault();var t=a.props,r=t.dispatch,l=t.form;l.validateFields(function(e,t){if(console.log(t),!e){var l=(0,c.default)({},t);a.setState({formValues:l});var n={};n.currentPage=l.currentPage||1,n.pageSize=l.currentPage||10,n.id=l.id,n.props_name=l.name,n.cid=l.game,r({type:"gameprops/propsList",payload:n})}})},a.handleFormReset=function(){var e=a.props,t=e.form,r=e.dispatch;t.resetFields(),a.setState({formValues:{}}),r({type:"gameprops/propsList",payload:{currentPage:1,pageSize:10}})},a.handleGamePropsCreate=function(){_.default.push("/gameprops/create")},a.showOnsaleModal=function(e){a.setState({visible:!0,current:e})},a.handleOnsaleCancel=function(){a.setState({visible:!1})},a.handleOnsaleSubmit=function(e){e.preventDefault();var t=a.props,r=(t.dispatch,t.form),l=a.state.current;console.log(l);l&&l.id;r.validateFields(function(e,t){console.log(t)})},a}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"gameprops/getAllGameList"}),e({type:"gameprops/propsList",payload:{currentPage:1,pageSize:10}})}},{key:"renderSimpleForm",value:function(){var e=this,t=this.props,a=t.gameprops.gameList,r=t.form.getFieldDecorator;return I.default.createElement(E.default,{onSubmit:this.handleSearch,layout:"inline"},I.default.createElement(p.default,{gutter:{md:8,lg:24,xl:48}},I.default.createElement(i.default,{md:4,sm:24},I.default.createElement(D,{label:"ID"},r("id")(I.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165"})))),I.default.createElement(i.default,{md:6,sm:24},I.default.createElement(D,{label:"\u9053\u5177\u540d"},r("name")(I.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165"})))),I.default.createElement(i.default,{md:6,sm:24},I.default.createElement(D,{label:"\u6240\u5728\u6e38\u620f"},r("game")(I.default.createElement(C.default,{setFieldsValue:0,style:{width:"200px"}},a.map(function(e){return I.default.createElement(N,{key:e.cp_id},e.cp_text)}))))),I.default.createElement(i.default,{md:8,sm:24},I.default.createElement("span",{className:O.default.submitButtons},I.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),I.default.createElement(u.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")),I.default.createElement("span",{className:O.default.createButtons},I.default.createElement(u.default,{icon:"plus",type:"primary",onClick:function(){return e.handleGamePropsCreate()}},"\u521b\u5efa\u65b0\u9053\u5177")))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.gameprops.data,r=t.loading,l=t.rowKey,p=t.form.getFieldDecorator,u=this.state,i=u.visible,f=u.current,g=void 0===f?{}:f,h=a.list,y=a.pagination,v=function(){return"\u5171 ".concat(y.total," \u6761\u8bb0\u5f55")};y.showTotal=v;var b=(0,c.default)({showSizeChanger:!0,showQuickJumper:!0},y),L={okText:"\u4fdd\u5b58",onOk:this.handleOnsaleSubmit,onCancel:this.handleOnsaleCancel},w=function(){return I.default.createElement(E.default,{onSubmit:e.handleOnsaleSubmit},I.default.createElement(D,(0,d.default)({label:"\u9053\u5177\u540d\u79f0"},e.formLayout),p("proposName",{})(I.default.createElement(m.default,{style:{width:"50%"}}))),I.default.createElement(D,(0,d.default)({label:"\u5355\u4e2a\u552e\u4ef7"},e.formLayout),p("proposPrice",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5355\u4e2a\u552e\u4ef7"}],initialValue:0})(I.default.createElement(m.default,{style:{width:"50%"},addonAfter:"GGD"}))),I.default.createElement(D,(0,d.default)({label:"\u4e0a\u67b6\u6570\u91cf"},e.formLayout),p("proposNum",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e0a\u67b6\u6570\u91cf"}],initialValue:0})(I.default.createElement(m.default,{addonAfter:"\u4ef6",style:{width:"50%"}}))),I.default.createElement(D,(0,d.default)({label:"\u5f53\u524d\u5e93\u5b58"},e.formLayout),"500 \u4ef6"))};return I.default.createElement(k.default,{title:I.default.createElement(x.FormattedMessage,{id:"app.gameprops.list"})},I.default.createElement(n.default,{bordered:!1},I.default.createElement("div",{className:O.default.tableList},I.default.createElement("div",{className:O.default.tableListForm},this.renderSimpleForm()),I.default.createElement("div",{className:O.default.tableListOperator}),I.default.createElement(s.default,{loading:r,rowKey:l||"id",dataSource:h,columns:this.columns,pagination:b,onChange:this.handleStandardTableChange}),I.default.createElement(o.default,(0,d.default)({title:"\u4e0a\u67b6\u51fa\u552e\u9053\u5177".concat(g.name||""),className:O.default.standardListForm,width:640,bodyStyle:{padding:"28px 0 0"},destroyOnClose:!0,visible:i},L),w()))))}}]),t}(I.PureComponent),F=S))||F)||F),z=M;t.default=z}}]);