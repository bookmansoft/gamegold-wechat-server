(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[99],{un6o:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("g09b"),_interopRequireWildcard=__webpack_require__("tAuX");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("Mwp2");var _list=_interopRequireDefault(__webpack_require__("VXEj"));__webpack_require__("IzEo");var _card=_interopRequireDefault(__webpack_require__("bx4M"));__webpack_require__("+L6B");var _button=_interopRequireDefault(__webpack_require__("2/Rp"));__webpack_require__("2qtc");var _modal=_interopRequireDefault(__webpack_require__("kLXV")),_classCallCheck2=_interopRequireDefault(__webpack_require__("2Taf")),_createClass2=_interopRequireDefault(__webpack_require__("vZ4D")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("l4Ni")),_getPrototypeOf3=_interopRequireDefault(__webpack_require__("ujKo")),_inherits2=_interopRequireDefault(__webpack_require__("MhPg")),_react=_interopRequireWildcard(__webpack_require__("q1tI")),_dva=__webpack_require__("MuoO"),_moment=_interopRequireDefault(__webpack_require__("wd/R")),_PageHeaderWrapper=_interopRequireDefault(__webpack_require__("zHco")),_DescriptionList=_interopRequireDefault(__webpack_require__("+kNj")),_link=_interopRequireDefault(__webpack_require__("mOP9")),_dec,_class,_temp,Description=_DescriptionList.default.Description,PropsDetail=(_dec=(0,_dva.connect)(function(e){var t=e.gameprops,r=e.loading;return{gameprops:t,loading:r.models.gameprops}}),_dec((_temp=function(_PureComponent){function PropsDetail(){var e,t;(0,_classCallCheck2.default)(this,PropsDetail);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,_possibleConstructorReturn2.default)(this,(e=(0,_getPrototypeOf3.default)(PropsDetail)).call.apply(e,[this].concat(a))),t.state={id:"",propsDetail:{}},t.propsEdit=function(e){var r=t.props.dispatch;r({type:"gameprops/cpPropsDetailById",payload:{id:e}}).then(function(a){if(""!=a){var i={};i.id=e,i.props_id=a.id,i.props_name=a.props_name,i.props_type=a.props_type,i.props_desc=a.props_desc,i.icon_url=a.icon,i.icon_preview=a.more_icon,i.status=a.props_status,i.propsAt=a.props_createtime,r({type:"gameprops/editproplocal",payload:i}).then(function(e){0==e.code?(r({type:"gameprops/propsDetail",payload:{id:t.state.id}}),_modal.default.success({title:"\u5237\u65b0\u6210\u529f",content:"\u9053\u5177\u57fa\u672c\u4fe1\u606f\u66f4\u65b0\u6210\u529f\uff01"})):_modal.default.error({title:"\u9519\u8bef",content:e.msg||"\u9053\u5177\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01"})})}})},t}return(0,_inherits2.default)(PropsDetail,_PureComponent),(0,_createClass2.default)(PropsDetail,[{key:"componentDidMount",value:function(){this.state.id=this.props.match.params.id;var e=this.props.dispatch;e({type:"gameprops/propsDetail",payload:{id:this.state.id}})}},{key:"mainButton",value:function(){return _react.default.createElement("div",null,_react.default.createElement(_link.default,{to:"/usermgr/userlist",className:"ant-btn ant-btn-primary"},"\u6279\u91cf\u8d60\u9001"))}},{key:"propsButton",value:function(){var e=this;return _react.default.createElement("div",null,_react.default.createElement(_button.default,{type:"primary",onClick:function(t){return e.propsEdit(e.state.id)}},"\u5237\u65b0\u9053\u5177"))}},{key:"getRankNote",value:function(e){var t="";switch(parseInt(e)){case 1:t="5%(\u767d)";break;case 2:t="10%(\u7eff)";break;case 3:t="20%(\u84dd)";break;case 4:t="50%(\u7d2b)";break;case 5:t="80%(\u6a59)";break;default:t="5%(\u767d)";break}return t}},{key:"render",value:function render(){var propsDetail=this.props.gameprops.propsDetail,detail=propsDetail.data||[],iconPreview=eval("("+detail.icon_preview+")");return _react.default.createElement(_PageHeaderWrapper.default,{title:detail.name},_react.default.createElement(_card.default,{bordered:!1,headStyle:{fontWeight:600},title:"\u751f\u4ea7\u4fe1\u606f"},_react.default.createElement(_DescriptionList.default,{size:"large",style:{marginBottom:32}},_react.default.createElement(Description,{term:"\u751f\u4ea7\u603b\u91cf"},detail.pro_num||0),_react.default.createElement(Description,{term:"\u9500\u552e\u6570\u91cf"},detail.pro_num||0),_react.default.createElement(Description,{term:"\u8d60\u9001\u6570\u91cf"},detail.pro_num||0))),_react.default.createElement(_card.default,{bordered:!1,headStyle:{fontWeight:600},title:"\u9053\u5177\u4fe1\u606f",extra:this.propsButton()},_react.default.createElement(_DescriptionList.default,{size:"large",style:{marginBottom:32}},_react.default.createElement(Description,{term:"\u9053\u5177ID"},detail.id),_react.default.createElement(Description,{term:"\u9053\u5177\u540d\u79f0"},detail.props_name||""),_react.default.createElement(Description,{term:"\u9053\u5177\u7c7b\u578b"},detail.props_type||""),_react.default.createElement(Description,{term:"\u6240\u5c5e\u6e38\u620f"},detail.cp_name||""),_react.default.createElement(Description,{term:"\u521b\u5efa\u65f6\u95f4"},(0,_moment.default)(detail.createdAt).format("YYYY-MM-DD HH:mm")),_react.default.createElement(Description,{term:"\u9500\u552e\u72b6\u6001"},1==detail.status?"\u5728\u552e":"\u4e0b\u67b6"),_react.default.createElement(Description,{term:"\u5546\u57ce\u6807\u4ef7"},detail.props_price/1e5||"","\u5343\u514b"),_react.default.createElement(Description,{term:"\u542b\u91d1\u7b49\u7ea7"},this.getRankNote(detail.props_rank))),_react.default.createElement(_DescriptionList.default,{size:"large"},_react.default.createElement(Description,{term:"\u9053\u5177\u63cf\u8ff0"},detail.props_desc||"")),_react.default.createElement(_DescriptionList.default,{size:"large",style:{marginBottom:32}},_react.default.createElement(Description,{term:"\u9053\u5177\u56fe\u6807 ",span:"24",style:{marginTop:32}},_react.default.createElement("img",{width:120,src:detail.icon_url||""})),_react.default.createElement(Description,{term:"\u9053\u5177\u8bf4\u660e\u56fe"},_react.default.createElement(_list.default,{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:iconPreview||[],renderItem:function(e){return _react.default.createElement(_list.default.Item,null,_react.default.createElement("img",{width:120,src:e}))}})))))}}]),PropsDetail}(_react.PureComponent),_class=_temp))||_class),_default=PropsDetail;exports.default=_default}}]);