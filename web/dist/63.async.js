(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[63],{HaWo:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=l(a("bx4M"));a("14J3");var i=l(a("BMrR"));a("+L6B");var o=l(a("2/Rp"));a("jCWc");var d=l(a("kPKH")),s=l(a("2Taf")),u=l(a("vZ4D")),m=l(a("l4Ni")),c=l(a("ujKo")),f=l(a("MhPg")),p=l(a("SQvw"));a("FJo9");var v=l(a("L41K"));a("y8nQ");var h,k,g,E,b,y,w,D=l(a("Vl3Y")),S=n(a("q1tI")),x=a("MuoO"),L=l(a("fqkP")),_=l(a("UjoV")),B=l(a("wd/R")),I=(l(a("TSYQ")),l(a("+kNj")),l(a("zHco"))),F=l(a("vxEp")),C=a("KTCi"),M=l(a("i9A2")),R=(D.default.Item,v.default.Step,function(){return window.innerWidth||document.documentElement.clientWidth}),O=(h=(0,x.connect)(function(e){var t=e.marketview,a=e.loading;return{marketview:t,loading:a.models.marketview}}),k=D.default.create(),g=(0,_.default)(),E=(0,L.default)(200),h(b=k((w=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,m.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(n))),a.renderImg=function(e){if(e&&e.length){var t=e.map(function(e,t){return S.default.createElement("div",null,S.default.createElement("img",{width:300,src:e,key:t}),S.default.createElement("br",null))});return t}},a.state={visible:!1,operationkey:"tab1",stepDirection:"horizontal",modalVisible:!1,updateModalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},stepFormValues:{}},a.columns=[{title:"cp\u7f16\u7801",dataIndex:"cid"},{title:"\u63a5\u6536\u5730\u5740",dataIndex:"addr"},{title:"\u533a\u5757\u9ad8\u5ea6",dataIndex:"height"},{title:"\u5355\u4ef7",dataIndex:"price",render:function(e){return S.default.createElement("span",null,parseInt(e/100)/1e3)}},{title:"sn",dataIndex:"sn"},{title:"\u91d1\u989d(Kg)",dataIndex:"sum",render:function(e){return S.default.createElement("span",null,parseInt(e/100)/1e3)}}],a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields(function(t,l){t||(console.log("\u6b64\u5904\u6536\u5230\u8868\u5355\u6570\u636e: ",l),e.resetFields(),a.setState({visible:!1}))})},a.saveFormRef=function(e){a.formRef=e},a.handleBack=function(){history.back()},a.onOperationTabChange=function(e){a.setState({operationkey:e})},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;console.log(this.props.location.query.id),e({type:"marketview/fetch",payload:{id:this.props.location.query.id}}).then(function(t){console.log("\u5237\u65b0\u5b8c\u6210"+JSON.stringify(t)),e({type:"marketview/fetchTableData",payload:{cid:t.cid,type:1}})}),this.setStepDirection(),window.addEventListener("resize",this.setStepDirection,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setStepDirection),this.setStepDirection.cancel()}},{key:"setStepDirection",value:function(){var e=this.state.stepDirection,t=R();"vertical"!==e&&t<=576?this.setState({stepDirection:"vertical"}):"horizontal"!==e&&t>576&&this.setState({stepDirection:"horizontal"})}},{key:"renderForm",value:function(){this.props.form.getFieldDecorator;return S.default.createElement(D.default,{onSubmit:this.handleSearch,layout:"inline"},S.default.createElement(i.default,{gutter:{md:16,lg:24,xl:48}},S.default.createElement(d.default,{md:20,sm:20},S.default.createElement("label",null,"\u73b0\u91d1\u9500\u552e\u660e\u7ec6")),S.default.createElement(d.default,{md:4,sm:4},S.default.createElement("span",{className:F.default.submitButtons},S.default.createElement(o.default,{type:"primary",htmlType:"submit"},"\u641c\u7d22")))))}},{key:"render",value:function(){var e=this.state,t=(e.stepDirection,e.operationkey,this.props),a=t.marketview,l=a.data,n=a.tableData,o=t.loading,s=this.state,u=s.selectedRows;s.modalVisible,s.updateModalVisible,s.stepFormValues;return S.default.createElement(I.default,{title:"\u5206\u9500\u8be6\u60c5",action:null,content:null,extraContent:null,tabList:null},S.default.createElement(r.default,{style:{marginBottom:16},bordered:!1},S.default.createElement(i.default,{style:{marginBottom:16}},S.default.createElement(d.default,{span:24},S.default.createElement("h3",null,S.default.createElement("b",null,"\u57fa\u672c\u4fe1\u606f")))),S.default.createElement(i.default,{style:{marginBottom:32}},S.default.createElement(d.default,{span:8},"\u6e38\u620f\u4e2d\u6587\u540d\uff1a",l.cp_text),S.default.createElement(d.default,{span:8},"\u6e38\u620f\u7c7b\u578b\uff1a",l.cp_type),S.default.createElement(d.default,{span:8},"\u5f00\u53d1\u8005\uff1a",l.develop_name)),S.default.createElement(i.default,{style:{marginBottom:32}},S.default.createElement(d.default,{span:24},"\u6e38\u620f\u8be6\u60c5\u9875\uff1a",l.cp_url))),S.default.createElement(r.default,{style:{marginBottom:16},bordered:!1},S.default.createElement(i.default,{style:{marginBottom:16}},S.default.createElement(d.default,{span:24},S.default.createElement("h3",null,S.default.createElement("b",null,"\u9500\u552e\u72b6\u6001")))),S.default.createElement(i.default,{style:{marginBottom:32}},S.default.createElement(d.default,{span:4},S.default.createElement(C.Pie,{percent:parseInt(100*(l.stock_num-l.residue_num)/l.stock_num+.5),subTitle:null,total:parseInt(100*(l.stock_num-l.residue_num)/l.stock_num)+"%",height:120})),S.default.createElement(d.default,{span:8,style:{marginBottom:16}},"\u51ed\u8bc1\u603b\u6570\u91cf\uff1a",l.stock_num),S.default.createElement(d.default,{span:8,style:{marginBottom:16}},"\u672a\u8ba4\u8d2d\u6570\u91cf\uff1a",l.residue_num),S.default.createElement(d.default,{span:8},"\u622a\u6b62\u65f6\u95f4\uff1a",(0,B.default)(1e3*l.sell_limit_date).format("YYYY-MM-DD HH:mm:ss")))),null!=n&&null!=n.list&&S.default.createElement(r.default,{bordered:!1,style:{marginTop:24}},S.default.createElement("div",{className:F.default.tableList},S.default.createElement("div",{className:F.default.tableListForm},this.renderForm()),S.default.createElement("div",{className:F.default.tableListOperator}),S.default.createElement(M.default,{selectedRows:u,loading:o,data:n.list,columns:this.columns,onSelectRow:null,onChange:this.handleStandardTableChange}))))}}]),t}(S.Component),y=w,(0,p.default)(y.prototype,"setStepDirection",[g,E],Object.getOwnPropertyDescriptor(y.prototype,"setStepDirection"),y.prototype),b=y))||b)||b),T=O;t.default=T},vxEp:function(e,t,a){e.exports={tableList:"antd-pro\\pages\\-market\\-market-view-tableList",tableListOperator:"antd-pro\\pages\\-market\\-market-view-tableListOperator",tableListForm:"antd-pro\\pages\\-market\\-market-view-tableListForm",submitButtons:"antd-pro\\pages\\-market\\-market-view-submitButtons",headerList:"antd-pro\\pages\\-market\\-market-view-headerList",tabsCard:"antd-pro\\pages\\-market\\-market-view-tabsCard",noData:"antd-pro\\pages\\-market\\-market-view-noData",heading:"antd-pro\\pages\\-market\\-market-view-heading",stepDescription:"antd-pro\\pages\\-market\\-market-view-stepDescription",textSecondary:"antd-pro\\pages\\-market\\-market-view-textSecondary"}}}]);